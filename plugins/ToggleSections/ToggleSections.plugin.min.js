function ToggleSections(){}var tssettings={},containers=[{label:"Server list",className:"guilds-wrapper",position:"right",enabled:null},{label:"Channel list",className:"channels-wrap",position:"right",enabled:null},{label:"User list",className:"channel-members-wrap",position:"left",enabled:null}];ToggleSections.prototype.load=function(){},ToggleSections.prototype.unload=function(){},ToggleSections.prototype.start=function(){localStorage.getItem("tssettings")||localStorage.setItem("tssettings",JSON.stringify({enabled:[!0,!0,!0],color:null})),tssettings=JSON.parse(localStorage.getItem("tssettings")),this.onSwitch(),this.addStyling()},ToggleSections.prototype.onSwitch=function(){var t=this;containers.forEach(function(e,o){e.enabled=tssettings.enabled[o],t.attachHandler(e)})},ToggleSections.prototype.stop=function(){$("#toggle-sections").remove();for(var t=0;t<containers.length;t++)$("#toggle-"+containers[t].className).unbind("click"),$("#toggle-"+containers[t].className).remove()},ToggleSections.prototype.getName=function(){return"Toggle Sections"},ToggleSections.prototype.getDescription=function(){return"Allows you to hide sections of the program (check settings to modify)"},ToggleSections.prototype.getVersion=function(){return"1.1"},ToggleSections.prototype.getAuthor=function(){return"kettui"},ToggleSections.prototype.attachHandler=function(t){var e,o=$("."+t.className),n=$("#toggle-"+t.className).length>0;if(n&&!t.enabled)return $("#toggle-"+t.className).unbind("click"),void $("#toggle-"+t.className).remove();if(!n&&t.enabled){o.append('<div class="toggle-section '+t.position+'" id="toggle-'+t.className+'"></div>'),o.addClass("toggleable");var s=$("#toggle-"+t.className);this.handleClick=function(){e||(e=o.width());var t=o.width()===e?0:e;o.attr("style","width: "+t+"px !important"),o.toggleClass("closed"),o.children().css({opacity:0==t?0:1})},s.bind("click",this.handleClick),$(".toggle-section").css({"border-color":"transparent "+tssettings.color})}},ToggleSections.prototype.addStyling=function(){for(var t=[".channel-members-wrap { min-width: 0; }",".toggleable.closed { overflow: visible !important; }",".toggle-section {","position: absolute;","bottom: 0;","z-index: 6;","cursor: pointer;","opacity: 1 !important;","border-width: 10px 0;","border-style: solid;","border-color: transparent #3c3c3c;","}",".toggle-section:hover { border-color: transparent #5a5a5a; }",".toggle-section.right { right: 0; border-right-width: 10px; }",".toggleable.closed .toggle-section.right {","right: -10px;","border-left-width: 10px;","border-right-width: 0;","}",".toggle-section.left { left: 0; border-left-width: 10px }",".toggleable.closed .toggle-section.left {","left: -10px;","border-right-width: 10px;","border-left-width: 0;","}",".channel-members-wrap.closed .toggle-section { left: -30px; }"],e=0;e<containers.length;e++)t.push("."+containers[e].className+"{ position: relative; transition: width 150ms; }");t=t.join(" "),0==$("#toggle-sections").length&&$("head").append('<style id="toggle-sections"></style>'),$("#toggle-sections").append(t)},ToggleSections.prototype.getSettingsPanel=function(){var t=$("<div/>",{id:"ts-settings"}),e=$("<input/>",{type:"color","class":"swatch default",id:"color-picker"});e.prop("value",tssettings.color);for(var o=0;o<containers.length;o++){var n=containers[o],s=$("<input />",{type:"checkbox","data-i":o,id:"ts-"+n.className,checked:!!n.enabled,click:function(){var t=$(this),e=t.attr("checked"),o=parseInt(t.attr("data-i"));e?t.prop("checked",!1):t.prop("checked",!0),containers[o].enabled=!containers[o].enabled,tssettings.enabled[o]=containers[o].enabled,localStorage.setItem("tssettings",JSON.stringify(tssettings)),ToggleSections.prototype.onSwitch()}}),i=$("<span />",{text:n.label});t.append(s,i,"<br/>")}return t.append("<span>Button color:</span>",e),e.on("change",function(){var t=$(this).prop("value");$(".toggle-section").css({"border-color":"transparent "+t}),tssettings.color=t,localStorage.setItem("tssettings",JSON.stringify(tssettings))}),t};
